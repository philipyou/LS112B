C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE CS_SCALEDISPLAY
OBJECT MODULE PLACED IN out/CS_ScaleDisplay.obj
COMPILER INVOKED BY: C:\Keil51\c51\bin\C51.exe CS_ScaleDisplay.c OBJECT(out/CS_ScaleDisplay.obj) OBJECTADVANCED OPTIMIZE
                    -(9,SPEED) BROWSE CODE SYMBOLS DF(ENABLE_APE) PR(out/CS_ScaleDisplay.lst) OT(7,SPEED) LARGE

line level    source

   1          #include "YC_Define.h"
   2          #include "YC_Peripheral.h"
   3          #include "CS_Scale_Proc.h"
   4          #include "CS_CommTo1186.h"
   5          #include "CS_ScaleDisplay.h"
   6          
   7          
   8          #include "retation_variable.h"
   9          
  10          u8_t xdata CS_Lcd_Send_Data[6];
  11          u8_t xdata CS_Lcd_Send_Data_BAK[6];
  12          
  13          void CS_ScaleDisplay()
  14          {
  15   1              u32_t weight_temp;
  16   1              
  17   1              if(R_Display_Err==CS_ScaleDisplay_L_err)        //提示信息显示
  18   1                      {
  19   2                      if(CS_Scale_JudgeOverLoad(GetIfOverLoad)== true)        
  20   2                              CS_ScaleDisplay_FreshBuf(DisplayOverLoad,0);                    
  21   2                      if(CS_Scale_JudgeLowBat(GetIfLowBat)== true)
  22   2                              CS_ScaleDisplay_FreshBuf(DisplayLowBat,0);      
  23   2                      if(CS_Scale_ZeroProc(GetIfZeroErr,0)==true)
  24   2                              CS_ScaleDisplay_FreshBuf(DisplayZeroErr,0);
  25   2                      return;
  26   2                      }
  27   1              if(R_Selet_Unit == CS_ScaleDisplay_L_kg)
  28   1                      {
  29   2                      R_UnitWeight.kg = R_UnitWeight.origin;
  30   2                      CS_ScaleDisplay_FreshBuf(Displaykg,R_UnitWeight.kg);
  31   2                      }
  32   1              if(R_Selet_Unit == CS_ScaleDisplay_L_gongjin)
  33   1                      {
  34   2                      R_UnitWeight.kg = R_UnitWeight.origin;
  35   2                      CS_ScaleDisplay_FreshBuf(Displaygongjin,R_UnitWeight.kg);
  36   2                      }
  37   1              if(R_Selet_Unit == CS_ScaleDisplay_L_jin)
  38   1                      {
  39   2                      R_UnitWeight.jin = R_UnitWeight.origin *2;
  40   2                      CS_ScaleDisplay_FreshBuf(Displayjin,R_UnitWeight.jin);
  41   2                      }                               
  42   1             if(R_Selet_Unit == CS_ScaleDisplay_L_lb )
  43   1              {
  44   2                      weight_temp   = (u32_t) R_UnitWeight.origin *22046;
  45   2                      R_UnitWeight.lb = weight_temp / 10000;
  46   2                      CS_ScaleDisplay_FreshBuf(Displaylb,R_UnitWeight.lb);
  47   2              }               
  48   1      }
  49          
  50          
  51          
  52          
  53          
  54          void CS_ScaleDisplay_Debug()
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 2   

  55          {
  56   1              u8_t buf[5];
  57   1              CS_ScaleDisplay_HexToBcd(R_Debug_temp,buf);
  58   1                      
  59   1              CS_Lcd_Send_Data[0] = CS_ScaleDisplay_LookUpTable(buf[1]);
  60   1              CS_Lcd_Send_Data[1] = CS_ScaleDisplay_LookUpTable(buf[2]);
  61   1              CS_Lcd_Send_Data[2] = CS_ScaleDisplay_LookUpTable(buf[3]);
  62   1              CS_Lcd_Send_Data[3] = CS_ScaleDisplay_LookUpTable(buf[4]);      
  63   1                      
  64   1              CS_ScaleDisplay_LcdBuf_rShift4();
  65   1      
  66   1              CS_CommTo1186_SendCmd(CS_CommTo1186_LcdDisplay,CS_Lcd_Send_Data);
  67   1      
  68   1      }
  69          
  70          
  71          
  72          void CS_ScaleDisplay_FreshBuf(u8_t option,u16_t showdata)
  73          {
  74   1              static  u8_t    data_buf[5];
  75   1      
  76   1              //////////////////////////////////////////
  77   1              //数字部分赋值
  78   1              if(option==DisplayOverLoad)
  79   1              {
  80   2              data_buf[0]=Lcdnull_Num;
  81   2              data_buf[1]=Lcdup_Num;
  82   2              data_buf[2]=Lcdup_Num;
  83   2              data_buf[3]=Lcdup_Num;
  84   2              data_buf[4]=Lcdup_Num;
  85   2              }
  86   1      
  87   1              if(option==DisplayLowBat)
  88   1              {
  89   2              data_buf[0]=0;
  90   2              data_buf[1]=Lcdnull_Num;
  91   2              data_buf[2]=LcdchL_Num;
  92   2              data_buf[3]=Lcdcho_Num;
  93   2              data_buf[4]=Lcdnull_Num;
  94   2              }
  95   1      
  96   1              if(option==DisplayZeroErr)
  97   1              {
  98   2              data_buf[0]=Lcdnull_Num;
  99   2              data_buf[1]=Lcdnull_Num;
 100   2              data_buf[2]=LcdchC_Num;
 101   2              data_buf[3]=Lcdnull_Num;
 102   2              data_buf[4]=Lcdnull_Num;
 103   2              }
 104   1              
 105   1              if(option==DisplayCal1||option==DisplayCal2||option==DisplayCal3||option==DisplayCal4)
 106   1              {
 107   2              data_buf[0]=0;
 108   2              data_buf[1]=LcdchC_Num;
 109   2              data_buf[2]=LcdchA_Num;
 110   2              data_buf[3]=LcdchL_Num;
 111   2                      if(option==DisplayCal1)
 112   2                              data_buf[4]=1;
 113   2                      if(option==DisplayCal2)
 114   2                              data_buf[4]=2;
 115   2                      if(option==DisplayCal3)
 116   2                              data_buf[4]=3;
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 3   

 117   2                      if(option==DisplayCal4)
 118   2                              data_buf[4]=4;
 119   2              }
 120   1      
 121   1              if(option==DisplayData||option==Displaykg||option==Displaylb||option==Displayjin||option==Displaygongjin)
 122   1              {
 123   2              CS_ScaleDisplay_HexToBcd(showdata,data_buf);
 124   2              
 125   2              if(option&showhigh4)            //显示高4位
 126   2                      {
 127   3                      data_buf[4]=data_buf[3];
 128   3                      data_buf[3]=data_buf[2];
 129   3                      data_buf[2]=data_buf[1];
 130   3                      data_buf[1]=data_buf[0];
 131   3                      data_buf[0]=0;
 132   3                      }
 133   2      
 134   2                      if(data_buf[0]==0 && data_buf[1]==0 )   
 135   2                              data_buf[1]=Lcdnull_Num;
 136   2                      if(data_buf[1]==Lcdnull_Num && data_buf[2]==0 ) 
 137   2                              data_buf[2]=Lcdnull_Num;
 138   2      
 139   2                      if(option&ShowNoDot)    //没有小数点还要判断多一位数字为0时是否不显示
 140   2                              {
 141   3                              if(data_buf[2]==Lcdnull_Num && data_buf[3]==0 ) 
 142   3                                      data_buf[3]=Lcdnull_Num;
 143   3                              }
 144   2              }
 145   1              
 146   1              CS_Lcd_Send_Data[0] = CS_ScaleDisplay_LookUpTable(data_buf[1]);
 147   1              CS_Lcd_Send_Data[1] = CS_ScaleDisplay_LookUpTable(data_buf[2]);
 148   1              CS_Lcd_Send_Data[2] = CS_ScaleDisplay_LookUpTable(data_buf[3]);
 149   1              CS_Lcd_Send_Data[3] = CS_ScaleDisplay_LookUpTable(data_buf[4]);
 150   1                              
 151   1              CS_ScaleDisplay_LcdBuf_rShift4();       //显示缓存跟实际液晶的逻辑对应有出入还要微调
 152   1                                                                                      //显示缓存数字还有符号部分的位置
 153   1      
 154   1              //////////////////////////////////////////
 155   1              //符号部分赋值
 156   1              CS_Lcd_Send_Data[4]&=0x0f;                      //最高位用蓝牙标志辅助显示
 157   1              if(option==DisplayData)
 158   1                      {               
 159   2                      if(data_buf[0]!=0)
 160   2                      CS_Lcd_Buf_SIGN |=S_BLE;
 161   2                      }       
 162   1              
 163   1              if(option==Displaykg)
 164   1                      {
 165   2                      CS_Lcd_Buf_DOT2 |= S_DOT;
 166   2                      CS_Lcd_Buf_Unit |= S_KG;                                                        
 167   2                      }       
 168   1      
 169   1              if(option==Displaylb)
 170   1                      {
 171   2                      CS_Lcd_Buf_DOT2 |= S_DOT;
 172   2                      CS_Lcd_Buf_Unit |= S_LB;                                                        
 173   2                      }
 174   1              if(option==Displayjin)
 175   1                      {
 176   2                      CS_Lcd_Buf_DOT2 |= S_DOT;
 177   2                      CS_Lcd_Buf_Unit |= S_JIN;                                                       
 178   2                      }
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 4   

 179   1              
 180   1              if(option==Displaygongjin)
 181   1                      {
 182   2                      CS_Lcd_Buf_DOT2 |= S_DOT;
 183   2                      CS_Lcd_Buf_Unit |= S_GONG | S_JIN;                                                      
 184   2                      }
 185   1      
 186   1              if(bleConnStatus==BLE_STATUS_CONN)
 187   1                      {
 188   2                      CS_Lcd_Buf_SIGN |=S_BLE;
 189   2                      }
 190   1              
 191   1      }
 192          
 193          
 194          
 195          void CS_ScaleDisplay_LcdBuf_rShift4()
 196          {
 197   1              CS_Lcd_Send_Data[4] = (CS_Lcd_Send_Data[4] & 0xf0) | (CS_Lcd_Send_Data[3] & 0x0f);
 198   1              CS_Lcd_Send_Data[3] = (CS_Lcd_Send_Data[3] & 0xf0) | (CS_Lcd_Send_Data[2] & 0x0f);
 199   1              CS_Lcd_Send_Data[2] = (CS_Lcd_Send_Data[2] & 0xf0) | (CS_Lcd_Send_Data[1] & 0x0f);
 200   1              CS_Lcd_Send_Data[1] = (CS_Lcd_Send_Data[1] & 0xf0) | (CS_Lcd_Send_Data[0] & 0x0f);
 201   1              CS_Lcd_Send_Data[0] = CS_Lcd_Send_Data[0] & 0xf0;
 202   1      }
 203          
 204          
 205          void CS_ScaleDisplay_HexToBcd(u16_t HexData,u8_t* buf)
 206          {
 207   1              u8_t  i;
 208   1              for(i=0;i<5;i++)
 209   1                      {
 210   2                      buf[4-i] =  HexData%10;
 211   2                      HexData = HexData /10;
 212   2                      }       
 213   1      }
 214          
 215          
 216          const u8_t CS_Lcd_Table[] = {
 217                  Lcdch0,Lcdch1,Lcdch2,Lcdch3,Lcdch4,     
 218                  Lcdch5,Lcdch6,Lcdch7,Lcdch8,Lcdch9,     
 219                  LcdchA,Lcdchb,LcdchC,Lcdchd,LcdchE,     
 220                  LcdchF,LcdchL,Lcdcho,LcdchP,Lcdchn,
 221                  Lcdchr,Lcdnull,Lcdup
 222          };
 223          
 224          
 225          u8_t CS_ScaleDisplay_LookUpTable(u8_t NumData)
 226          {
 227   1              u8_t     * data_ptr;
 228   1              data_ptr = CS_Lcd_Table;
 229   1              return  *(data_ptr + NumData);
 230   1      }
 231          
 232          
 233          
 234          
 235          void CS_ScaleDisplay_LcdShowNull(void)
 236          {
 237   1              CS_Lcd_Send_Data[0] = 0x00;
 238   1              CS_Lcd_Send_Data[1] = 0x00;
 239   1              CS_Lcd_Send_Data[2] = 0x00;
 240   1              CS_Lcd_Send_Data[3] = 0x00;
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 5   

 241   1              CS_Lcd_Send_Data[4] = 0x00;
 242   1      }
 243          
 244          void CS_ScaleDisplay_LcdShowNoDigit(void)
 245          {
 246   1              CS_Lcd_Send_Data[0] &= 0x0f;
 247   1              CS_Lcd_Send_Data[1] &= 0x00;
 248   1              CS_Lcd_Send_Data[2] &= 0x08;
 249   1              CS_Lcd_Send_Data[3] &= 0x08;
 250   1              CS_Lcd_Send_Data[4] &= 0xf0;
 251   1      }
 252          
 253          void CS_ScaleDisplay_LcdShowAll(void)
 254          {
 255   1              CS_Lcd_Send_Data[0] = 0xFF;
 256   1              CS_Lcd_Send_Data[1] = 0xFF;
 257   1              CS_Lcd_Send_Data[2] = 0xFF;
 258   1              CS_Lcd_Send_Data[3] = 0xFF;
 259   1              CS_Lcd_Send_Data[4] = 0xFF;
 260   1      }
 261          
 262          
 263          void CS_ScaleDisplay_LcdBackup(void)
 264          {
 265   1              CS_Lcd_Send_Data_BAK[0] = CS_Lcd_Send_Data[0];
 266   1              CS_Lcd_Send_Data_BAK[1] = CS_Lcd_Send_Data[1];
 267   1              CS_Lcd_Send_Data_BAK[2] = CS_Lcd_Send_Data[2];
 268   1              CS_Lcd_Send_Data_BAK[3] = CS_Lcd_Send_Data[3];
 269   1              CS_Lcd_Send_Data_BAK[4] = CS_Lcd_Send_Data[4];  
 270   1      }
 271          
 272          
 273          void CS_ScaleDisplay_LcdRestore(void)
 274          {
 275   1              CS_Lcd_Send_Data[0] = CS_Lcd_Send_Data_BAK[0];
 276   1              CS_Lcd_Send_Data[1] = CS_Lcd_Send_Data_BAK[1];
 277   1              CS_Lcd_Send_Data[2] = CS_Lcd_Send_Data_BAK[2];
 278   1              CS_Lcd_Send_Data[3] = CS_Lcd_Send_Data_BAK[3];
 279   1              CS_Lcd_Send_Data[4] = CS_Lcd_Send_Data_BAK[4];
 280   1      }
 281          
 282          
 283          void CS_ScaleDisplay_SteadyFlash(void)
 284          {        
 285   1      
 286   1              u8_t xdata R_Weight_FlashTime;
 287   1      
 288   1              
 289   1              if(CS_SoftTimer(GetIfTimeOut) == false)
 290   1                      {
 291   2                      R_Weight_FlashTime = CS_SoftTimer(GetSoftTimerTime);
 292   2                         if(R_Weight_FlashTime<30) 
 293   2                              CS_ScaleDisplay_LcdBackup();
 294   2                          else if(R_Weight_FlashTime<60) 
 295   2                                      CS_ScaleDisplay_LcdShowNoDigit();
 296   2                                      else if(R_Weight_FlashTime<90)
 297   2                                              CS_ScaleDisplay_LcdRestore();
 298   2                                              else if(R_Weight_FlashTime<120) 
 299   2                                                      CS_ScaleDisplay_LcdShowNoDigit();
 300   2                                                      else if(R_Weight_FlashTime<150)
 301   2                                                              CS_ScaleDisplay_LcdRestore();           
 302   2                      }
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 6   

 303   1      }
 304          
 305          
 306          
 307          
 308          
 309          
 310          
 311          
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 7   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION CS_ScaleDisplay (BEGIN)
                                           ; SOURCE LINE # 13
                                           ; SOURCE LINE # 14
                                           ; SOURCE LINE # 17
                 E     MOV     DPTR,#R_Display_Err
                       MOVX    A,@DPTR
                       XRL     A,#04H
                 R     xJNZ    ?C0001
                                           ; SOURCE LINE # 18
                                           ; SOURCE LINE # 19
                       MOV     R7,#01H
                 E     CALL    _CS_Scale_JudgeOverLoad
                 R     xJNE    R7,#01H,?C0002
                                           ; SOURCE LINE # 20
                       CLR     A
                       MOV     R5,A
                       MOV     R4,A
                       MOV     R7,#085H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
             ?C0002:
                                           ; SOURCE LINE # 21
                       MOV     R7,#01H
                 E     CALL    _CS_Scale_JudgeLowBat
                 R     xJNE    R7,#01H,?C0003
                                           ; SOURCE LINE # 22
                       CLR     A
                       MOV     R5,A
                       MOV     R4,A
                       MOV     R7,#086H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
             ?C0003:
                                           ; SOURCE LINE # 23
                       CLR     A
                       MOV     R5,A
                       MOV     R4,A
                       MOV     R7,#09H
                 E     CALL    _CS_Scale_ZeroProc
                       MOV     A,R7
                       XRL     A,#01H
                       ORL     A,R6
                 R     xJNZ    ?C0005
                                           ; SOURCE LINE # 24
                       MOV     R5,A
                       MOV     R4,A
                       MOV     R7,#087H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
                       RET     
                                           ; SOURCE LINE # 26
             ?C0001:
                                           ; SOURCE LINE # 27
                 E     MOV     DPTR,#R_Selet_Unit
                       MOVX    A,@DPTR
                 R     xJNZ    ?C0006
                                           ; SOURCE LINE # 28
                                           ; SOURCE LINE # 29
                 E     MOV     DPTR,#R_UnitWeight
                       MOVX    A,@DPTR
                       MOV     R6,A
                       INC     DPTR
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 8   

                       MOVX    A,@DPTR
                       MOV     R7,A
                       INC     DPTR
                       MOV     A,R6
                       MOVX    @DPTR,A
                       MOV     R4,A
                       INC     DPTR
                       MOV     A,R7
                       MOVX    @DPTR,A
                       MOV     R5,A
                                           ; SOURCE LINE # 30
                       MOV     R7,#041H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
                                           ; SOURCE LINE # 31
             ?C0006:
                                           ; SOURCE LINE # 32
                 E     MOV     DPTR,#R_Selet_Unit
                       MOVX    A,@DPTR
                 R     xJNE    A,#02H,?C0007
                                           ; SOURCE LINE # 33
                                           ; SOURCE LINE # 34
                 E     MOV     DPTR,#R_UnitWeight
                       MOVX    A,@DPTR
                       MOV     R6,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R7,A
                       INC     DPTR
                       MOV     A,R6
                       MOVX    @DPTR,A
                       MOV     R4,A
                       INC     DPTR
                       MOV     A,R7
                       MOVX    @DPTR,A
                       MOV     R5,A
                                           ; SOURCE LINE # 35
                       MOV     R7,#044H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
                                           ; SOURCE LINE # 36
             ?C0007:
                                           ; SOURCE LINE # 37
                 E     MOV     DPTR,#R_Selet_Unit
                       MOVX    A,@DPTR
                 R     xJNE    A,#03H,?C0008
                                           ; SOURCE LINE # 38
                                           ; SOURCE LINE # 39
                 E     MOV     DPTR,#R_UnitWeight+01H
                       MOVX    A,@DPTR
                       ADD     A,ACC
                       MOV     R7,A
                 E     MOV     DPTR,#R_UnitWeight
                       MOVX    A,@DPTR
                       RLC     A
                       MOV     R6,A
                 E     MOV     DPTR,#R_UnitWeight+08H
                       MOVX    @DPTR,A
                       MOV     R4,A
                       INC     DPTR
                       MOV     A,R7
                       MOVX    @DPTR,A
                       MOV     R5,A
                                           ; SOURCE LINE # 40
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 9   

                       MOV     R7,#043H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
                                           ; SOURCE LINE # 41
             ?C0008:
                                           ; SOURCE LINE # 42
                 E     MOV     DPTR,#R_Selet_Unit
                       MOVX    A,@DPTR
                 R     xJNE    A,#01H,?C0005
                                           ; SOURCE LINE # 43
                                           ; SOURCE LINE # 44
                 E     MOV     DPTR,#R_UnitWeight
                       MOVX    A,@DPTR
                       MOV     R6,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R7,A
                       MOV     R4,#056H
                       MOV     R5,#01EH
                 E     CALL    ?C?LIMUL
;---- Variable 'weight_temp' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 45
                       CLR     A
                       MOV     R3,#010H
                       MOV     R2,#027H
                       MOV     R1,A
                       MOV     R0,A
                 E     CALL    ?C?ULDIV
                 E     MOV     DPTR,#R_UnitWeight+04H
                       MOV     A,R6
                       MOVX    @DPTR,A
                       MOV     R4,A
                       INC     DPTR
                       MOV     A,R7
                       MOVX    @DPTR,A
                       MOV     R5,A
                                           ; SOURCE LINE # 46
                       MOV     R7,#042H
                 R     CALL    _CS_ScaleDisplay_FreshBuf
                                           ; SOURCE LINE # 47
                                           ; SOURCE LINE # 48
             ?C0005:
                       RET     
             ; FUNCTION CS_ScaleDisplay (END)

             ; FUNCTION CS_ScaleDisplay_Debug (BEGIN)
                                           ; SOURCE LINE # 54
                                           ; SOURCE LINE # 55
                                           ; SOURCE LINE # 57
                 E     MOV     DPTR,#R_Debug_temp
                       MOVX    A,@DPTR
                       MOV     R6,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R7,A
                       MOV     R3,#01H
                 R     MOV     R2,#HIGH buf
                 R     MOV     R1,#LOW buf
                 R     CALL    _CS_ScaleDisplay_HexToBcd
                                           ; SOURCE LINE # 59
                 R     MOV     DPTR,#buf+01H
                       MOVX    A,@DPTR
                       MOV     R7,A
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 10  

                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 60
                 R     MOV     DPTR,#buf+02H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data+01H
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 61
                 R     MOV     DPTR,#buf+03H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data+02H
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 62
                 R     MOV     DPTR,#buf+04H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 64
                 R     CALL    CS_ScaleDisplay_LcdBuf_rShift4
                                           ; SOURCE LINE # 66
                       MOV     R3,#01H
                 R     MOV     R2,#HIGH CS_Lcd_Send_Data
                 R     MOV     R1,#LOW CS_Lcd_Send_Data
                       MOV     R7,#0E0H
                 E     CALL    _CS_CommTo1186_SendCmd
                                           ; SOURCE LINE # 68
                       RET     
             ; FUNCTION CS_ScaleDisplay_Debug (END)

             ; FUNCTION _CS_ScaleDisplay_FreshBuf (BEGIN)
                                           ; SOURCE LINE # 72
;---- Variable 'showdata' assigned to Register 'R4/R5' ----
                 R     MOV     DPTR,#option
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 78
                 R     xJNE    R7,#085H,?C0011
                                           ; SOURCE LINE # 79
                                           ; SOURCE LINE # 80
                 R     MOV     DPTR,#data_buf
                       MOV     A,#015H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 81
                       INC     DPTR
                       INC     A
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 82
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 83
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 11  

                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 84
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 85
             ?C0011:
                                           ; SOURCE LINE # 87
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     xJNE    A,#086H,?C0012
                                           ; SOURCE LINE # 88
                                           ; SOURCE LINE # 89
                       CLR     A
                 R     MOV     DPTR,#data_buf
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 90
                       INC     DPTR
                       MOV     A,#015H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 91
                       INC     DPTR
                       MOV     A,#010H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 92
                       INC     DPTR
                       INC     A
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 93
                       INC     DPTR
                       MOV     A,#015H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 94
             ?C0012:
                                           ; SOURCE LINE # 96
                       MOV     A,R7
                 R     xJNE    A,#087H,?C0013
                                           ; SOURCE LINE # 97
                                           ; SOURCE LINE # 98
                 R     MOV     DPTR,#data_buf
                       MOV     A,#015H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 99
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 100
                       INC     DPTR
                       MOV     A,#0CH
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 101
                       INC     DPTR
                       MOV     A,#015H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 102
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 103
             ?C0013:
                                           ; SOURCE LINE # 105
                       MOV     A,R7
                       XRL     A,#081H
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 12  

                 R     xJZ     ?C0015
                       MOV     A,R7
                       XRL     A,#082H
                 R     xJZ     ?C0015
                       MOV     A,R7
                       XRL     A,#083H
                 R     xJZ     ?C0015
                       MOV     A,R7
                       XRL     A,#084H
                 R     xJNZ    ?C0014
             ?C0015:
                                           ; SOURCE LINE # 106
                                           ; SOURCE LINE # 107
                       CLR     A
                 R     MOV     DPTR,#data_buf
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 108
                       INC     DPTR
                       MOV     A,#0CH
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 109
                       INC     DPTR
                       MOV     A,#0AH
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 110
                       INC     DPTR
                       MOV     A,#010H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 111
                       MOV     A,R7
                 R     xJNE    A,#081H,?C0016
                                           ; SOURCE LINE # 112
                       INC     DPTR
                       MOV     A,#01H
                       MOVX    @DPTR,A
             ?C0016:
                                           ; SOURCE LINE # 113
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                 R     xJNE    A,#082H,?C0017
                                           ; SOURCE LINE # 114
                 R     MOV     DPTR,#data_buf+04H
                       MOV     A,#02H
                       MOVX    @DPTR,A
             ?C0017:
                                           ; SOURCE LINE # 115
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     xJNE    A,#083H,?C0018
                                           ; SOURCE LINE # 116
                 R     MOV     DPTR,#data_buf+04H
                       MOV     A,#03H
                       MOVX    @DPTR,A
             ?C0018:
                                           ; SOURCE LINE # 117
                       MOV     A,R7
                 R     xJNE    A,#084H,?C0014
                                           ; SOURCE LINE # 118
                 R     MOV     DPTR,#data_buf+04H
                       MOV     A,#04H
                       MOVX    @DPTR,A
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 13  

                                           ; SOURCE LINE # 119
             ?C0014:
                                           ; SOURCE LINE # 121
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                       MOV     R7,A
                       XRL     A,#021H
                 R     xJZ     ?C0021
                       MOV     A,R7
                       XRL     A,#041H
                 R     xJZ     ?C0021
                       MOV     A,R7
                       XRL     A,#042H
                 R     xJZ     ?C0021
                       MOV     A,R7
                       XRL     A,#043H
                 R     xJZ     ?C0021
                       MOV     A,R7
                       XRL     A,#044H
                 R     xJNZ    ?C0020
             ?C0021:
                                           ; SOURCE LINE # 122
                                           ; SOURCE LINE # 123
                       MOV     R6,AR4
                       MOV     R7,AR5
                       MOV     R3,#01H
                 R     MOV     R2,#HIGH data_buf
                 R     MOV     R1,#LOW data_buf
                 R     CALL    _CS_ScaleDisplay_HexToBcd
                                           ; SOURCE LINE # 125
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     xJNB    ACC.6,?C0022
                                           ; SOURCE LINE # 126
                                           ; SOURCE LINE # 127
                 R     MOV     DPTR,#data_buf+03H
                       MOVX    A,@DPTR
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 128
                 R     MOV     DPTR,#data_buf+02H
                       MOVX    A,@DPTR
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 129
                 R     MOV     DPTR,#data_buf+01H
                       MOVX    A,@DPTR
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 130
                 R     MOV     DPTR,#data_buf
                       MOVX    A,@DPTR
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 131
                       CLR     A
                 R     MOV     DPTR,#data_buf
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 132
             ?C0022:
                                           ; SOURCE LINE # 134
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 14  

                 R     MOV     DPTR,#data_buf
                       MOVX    A,@DPTR
                 R     xJNZ    ?C0023
                       INC     DPTR
                       MOVX    A,@DPTR
                 R     xJNZ    ?C0023
                                           ; SOURCE LINE # 135
                       MOV     A,#015H
                       MOVX    @DPTR,A
             ?C0023:
                                           ; SOURCE LINE # 136
                 R     MOV     DPTR,#data_buf+01H
                       MOVX    A,@DPTR
                 R     xJNE    A,#015H,?C0024
                       INC     DPTR
                       MOVX    A,@DPTR
                 R     xJNZ    ?C0024
                                           ; SOURCE LINE # 137
                       MOV     A,#015H
                       MOVX    @DPTR,A
             ?C0024:
                                           ; SOURCE LINE # 139
                       MOV     A,R7
                 R     xJNB    ACC.5,?C0020
                                           ; SOURCE LINE # 140
                                           ; SOURCE LINE # 141
                 R     MOV     DPTR,#data_buf+02H
                       MOVX    A,@DPTR
                 R     xJNE    A,#015H,?C0020
                       INC     DPTR
                       MOVX    A,@DPTR
                 R     xJNZ    ?C0020
                                           ; SOURCE LINE # 142
                       MOV     A,#015H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 143
                                           ; SOURCE LINE # 144
             ?C0020:
                                           ; SOURCE LINE # 146
                 R     MOV     DPTR,#data_buf+01H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 147
                 R     MOV     DPTR,#data_buf+02H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data+01H
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 148
                 R     MOV     DPTR,#data_buf+03H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data+02H
                       MOV     A,R7
                       MOVX    @DPTR,A
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 15  

                                           ; SOURCE LINE # 149
                 R     MOV     DPTR,#data_buf+04H
                       MOVX    A,@DPTR
                       MOV     R7,A
                 R     CALL    _CS_ScaleDisplay_LookUpTable
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 151
                 R     CALL    CS_ScaleDisplay_LcdBuf_rShift4
                                           ; SOURCE LINE # 156
                 R     MOV     DPTR,#CS_Lcd_Send_Data+04H
                       MOVX    A,@DPTR
                       ANL     A,#0FH
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 157
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                       MOV     R5,A
                 R     xJNE    A,#021H,?C0027
                                           ; SOURCE LINE # 158
                                           ; SOURCE LINE # 159
                 R     MOV     DPTR,#data_buf
                       MOVX    A,@DPTR
                 R     xJZ     ?C0027
                                           ; SOURCE LINE # 160
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    A,@DPTR
                       ORL     A,#02H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 161
             ?C0027:
                                           ; SOURCE LINE # 163
                       MOV     A,R5
                 R     xJNE    A,#041H,?C0029
                                           ; SOURCE LINE # 164
                                           ; SOURCE LINE # 165
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    A,@DPTR
                       ORL     A,#08H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 166
                       INC     DPTR
                       MOVX    A,@DPTR
                       ORL     A,#010H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 167
             ?C0029:
                                           ; SOURCE LINE # 169
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                 R     xJNE    A,#042H,?C0030
                                           ; SOURCE LINE # 170
                                           ; SOURCE LINE # 171
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    A,@DPTR
                       ORL     A,#08H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 172
                       INC     DPTR
                       MOVX    A,@DPTR
                       ORL     A,#020H
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 16  

                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 173
             ?C0030:
                                           ; SOURCE LINE # 174
                 R     MOV     DPTR,#option
                       MOVX    A,@DPTR
                       MOV     R5,A
                 R     xJNE    A,#043H,?C0031
                                           ; SOURCE LINE # 175
                                           ; SOURCE LINE # 176
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    A,@DPTR
                       ORL     A,#08H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 177
                       INC     DPTR
                       MOVX    A,@DPTR
                       ORL     A,#080H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 178
             ?C0031:
                                           ; SOURCE LINE # 180
                       MOV     A,R5
                 R     xJNE    A,#044H,?C0032
                                           ; SOURCE LINE # 181
                                           ; SOURCE LINE # 182
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    A,@DPTR
                       ORL     A,#08H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 183
                       INC     DPTR
                       MOVX    A,@DPTR
                       ORL     A,#0C0H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 184
             ?C0032:
                                           ; SOURCE LINE # 186
                 E     MOV     DPTR,#bleConnStatus
                       MOVX    A,@DPTR
                 R     xJNE    A,#01H,?C0034
                                           ; SOURCE LINE # 187
                                           ; SOURCE LINE # 188
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    A,@DPTR
                       ORL     A,#02H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 189
                                           ; SOURCE LINE # 191
             ?C0034:
                       RET     
             ; FUNCTION _CS_ScaleDisplay_FreshBuf (END)

             ; FUNCTION CS_ScaleDisplay_LcdBuf_rShift4 (BEGIN)
                                           ; SOURCE LINE # 195
                                           ; SOURCE LINE # 196
                                           ; SOURCE LINE # 197
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    A,@DPTR
                       ANL     A,#0FH
                       MOV     R7,A
                       INC     DPTR
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 17  

                       MOVX    A,@DPTR
                       ANL     A,#0F0H
                       ORL     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 198
                 R     MOV     DPTR,#CS_Lcd_Send_Data+02H
                       MOVX    A,@DPTR
                       ANL     A,#0FH
                       MOV     R7,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       ANL     A,#0F0H
                       ORL     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 199
                 R     MOV     DPTR,#CS_Lcd_Send_Data+01H
                       MOVX    A,@DPTR
                       ANL     A,#0FH
                       MOV     R7,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       ANL     A,#0F0H
                       ORL     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 200
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    A,@DPTR
                       ANL     A,#0FH
                       MOV     R7,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       ANL     A,#0F0H
                       ORL     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 201
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    A,@DPTR
                       ANL     A,#0F0H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 202
                       RET     
             ; FUNCTION CS_ScaleDisplay_LcdBuf_rShift4 (END)

             ; FUNCTION _CS_ScaleDisplay_HexToBcd (BEGIN)
                                           ; SOURCE LINE # 205
                 R     MOV     DPTR,#HexData
                       MOV     A,R6
                       MOVX    @DPTR,A
                       INC     DPTR
                       MOV     A,R7
                       MOVX    @DPTR,A
                       INC     DPTR
                       MOV     A,R3
                       MOVX    @DPTR,A
                       INC     DPTR
                       MOV     A,R2
                       MOVX    @DPTR,A
                       INC     DPTR
                       MOV     A,R1
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 206
                                           ; SOURCE LINE # 208
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 18  

                       CLR     A
                       INC     DPTR
                       MOVX    @DPTR,A
             ?C0036:
                 R     MOV     DPTR,#i
                       MOVX    A,@DPTR
                       MOV     R3,A
                       CLR     C
                       SUBB    A,#05H
                 R     xJGE    ?C0039
                                           ; SOURCE LINE # 209
                                           ; SOURCE LINE # 210
                 R     MOV     DPTR,#HexData
                       MOVX    A,@DPTR
                       MOV     R6,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R7,A
                       MOV     R4,#00H
                       MOV     R5,#0AH
                 E     CALL    ?C?UIDIV
                       MOV     R7,AR5
                       MOV     A,R3
                       MOV     R5,A
                       CLR     C
                       MOV     A,#04H
                       SUBB    A,R5
                       MOV     R5,A
                       CLR     A
                       SUBB    A,#00H
                       MOV     R4,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R3,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R2,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R1,A
                       MOV     DPL,R5
                       MOV     DPH,R4
                       MOV     A,R7
                 E     CALL    ?C?CSTOPTR
                                           ; SOURCE LINE # 211
                 R     MOV     DPTR,#HexData
                       MOVX    A,@DPTR
                       MOV     R6,A
                       INC     DPTR
                       MOVX    A,@DPTR
                       MOV     R7,A
                       MOV     R4,#00H
                       MOV     R5,#0AH
                 E     CALL    ?C?UIDIV
                 R     MOV     DPTR,#HexData
                       MOV     A,R6
                       MOVX    @DPTR,A
                       INC     DPTR
                       MOV     A,R7
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 212
                 R     MOV     DPTR,#i
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 19  

                       MOVX    A,@DPTR
                       INC     A
                       MOVX    @DPTR,A
                 R     xJMP    ?C0036
                                           ; SOURCE LINE # 213
             ?C0039:
                       RET     
             ; FUNCTION _CS_ScaleDisplay_HexToBcd (END)

             ; FUNCTION _CS_ScaleDisplay_LookUpTable (BEGIN)
                                           ; SOURCE LINE # 225
;---- Variable 'NumData' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 226
                                           ; SOURCE LINE # 228
                       MOV     R3,#01H
                 R     MOV     R2,#HIGH CS_Lcd_Table
                 R     MOV     R1,#LOW CS_Lcd_Table
;---- Variable 'data_ptr' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 229
                       MOV     DPL,R7
                       MOV     DPH,#00H
                 E     CALL    ?C?CLDOPTR
                       MOV     R7,A
                                           ; SOURCE LINE # 230
             ?C0040:
                       RET     
             ; FUNCTION _CS_ScaleDisplay_LookUpTable (END)

             ; FUNCTION CS_ScaleDisplay_LcdShowNull (BEGIN)
                                           ; SOURCE LINE # 235
                                           ; SOURCE LINE # 236
                                           ; SOURCE LINE # 237
                       CLR     A
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 238
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 239
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 240
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 241
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 242
                       RET     
             ; FUNCTION CS_ScaleDisplay_LcdShowNull (END)

             ; FUNCTION CS_ScaleDisplay_LcdShowNoDigit (BEGIN)
                                           ; SOURCE LINE # 244
                                           ; SOURCE LINE # 245
                                           ; SOURCE LINE # 246
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    A,@DPTR
                       ANL     A,#0FH
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 247
                       INC     DPTR
                       MOVX    A,@DPTR
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 20  

                       CLR     A
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 248
                       INC     DPTR
                       MOVX    A,@DPTR
                       ANL     A,#08H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 249
                       INC     DPTR
                       MOVX    A,@DPTR
                       ANL     A,#08H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 250
                       INC     DPTR
                       MOVX    A,@DPTR
                       ANL     A,#0F0H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 251
                       RET     
             ; FUNCTION CS_ScaleDisplay_LcdShowNoDigit (END)

             ; FUNCTION CS_ScaleDisplay_LcdShowAll (BEGIN)
                                           ; SOURCE LINE # 253
                                           ; SOURCE LINE # 254
                                           ; SOURCE LINE # 255
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOV     A,#0FFH
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 256
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 257
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 258
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 259
                       INC     DPTR
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 260
                       RET     
             ; FUNCTION CS_ScaleDisplay_LcdShowAll (END)

             ; FUNCTION CS_ScaleDisplay_LcdBackup (BEGIN)
                                           ; SOURCE LINE # 263
                                           ; SOURCE LINE # 264
                                           ; SOURCE LINE # 265
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 266
                 R     MOV     DPTR,#CS_Lcd_Send_Data+01H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+01H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 267
                 R     MOV     DPTR,#CS_Lcd_Send_Data+02H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+02H
                       MOVX    @DPTR,A
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 21  

                                           ; SOURCE LINE # 268
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+03H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 269
                 R     MOV     DPTR,#CS_Lcd_Send_Data+04H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+04H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 270
                       RET     
             ; FUNCTION CS_ScaleDisplay_LcdBackup (END)

             ; FUNCTION CS_ScaleDisplay_LcdRestore (BEGIN)
                                           ; SOURCE LINE # 273
                                           ; SOURCE LINE # 274
                                           ; SOURCE LINE # 275
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 276
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+01H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data+01H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 277
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+02H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data+02H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 278
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+03H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data+03H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 279
                 R     MOV     DPTR,#CS_Lcd_Send_Data_BAK+04H
                       MOVX    A,@DPTR
                 R     MOV     DPTR,#CS_Lcd_Send_Data+04H
                       MOVX    @DPTR,A
                                           ; SOURCE LINE # 280
                       RET     
             ; FUNCTION CS_ScaleDisplay_LcdRestore (END)

             ; FUNCTION CS_ScaleDisplay_SteadyFlash (BEGIN)
                                           ; SOURCE LINE # 283
                                           ; SOURCE LINE # 284
                                           ; SOURCE LINE # 289
                       MOV     R7,#03H
                 E     CALL    _CS_SoftTimer
                       MOV     A,R7
                 R     xJNZ    ?C0056
                                           ; SOURCE LINE # 290
                                           ; SOURCE LINE # 291
                       MOV     R7,#01H
                 E     CALL    _CS_SoftTimer
;---- Variable 'R_Weight_FlashTime' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 292
                       MOV     A,R7
                       CLR     C
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 22  

                       SUBB    A,#01EH
                 R     xJGE    ?C0047
                                           ; SOURCE LINE # 293
                 R     CALL    CS_ScaleDisplay_LcdBackup
                       RET     
             ?C0047:
                                           ; SOURCE LINE # 294
                       MOV     A,R7
                       CLR     C
                       SUBB    A,#03CH
                 R     xJGE    ?C0049
                                           ; SOURCE LINE # 295
                 R     CALL    CS_ScaleDisplay_LcdShowNoDigit
                       RET     
             ?C0049:
                                           ; SOURCE LINE # 296
                       MOV     A,R7
                       CLR     C
                       SUBB    A,#05AH
                 R     xJGE    ?C0051
                                           ; SOURCE LINE # 297
                 R     CALL    CS_ScaleDisplay_LcdRestore
                       RET     
             ?C0051:
                                           ; SOURCE LINE # 298
                       MOV     A,R7
                       CLR     C
                       SUBB    A,#078H
                 R     xJGE    ?C0053
                                           ; SOURCE LINE # 299
                 R     CALL    CS_ScaleDisplay_LcdShowNoDigit
                       RET     
             ?C0053:
                                           ; SOURCE LINE # 300
                       MOV     A,R7
                       CLR     C
                       SUBB    A,#096H
                 R     xJGE    ?C0056
                                           ; SOURCE LINE # 301
                 R     CALL    CS_ScaleDisplay_LcdRestore
                                           ; SOURCE LINE # 302
                                           ; SOURCE LINE # 303
             ?C0056:
                       RET     
             ; FUNCTION CS_ScaleDisplay_SteadyFlash (END)

C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 23  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


s8_t . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
_CS_Scale_JudgeLowBat. . . . . . . . .  EXTERN   CODE   PROC     -----  -----
u8_t . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
UART_CardProtcol . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
YC_UARTPARAM_t . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  15
  uartCtrl . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  pRxBuff. . . . . . . . . . . . . . .  MEMBER   -----  PTR      0001H  3
  pTxBuff. . . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
  rxBuffLen. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  txBuffLen. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  baud . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   000BH  4
CS_Lcd_Send_Data_BAK . . . . . . . . .  PUBLIC   XDATA  ARRAY    0005H  6
pxdbyte. . . . . . . . . . . . . . . .  TYPEDEF  DATA   PTR      -----  2
YC_LedBlink. . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6
  active_state . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  gpio_num . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  light_time . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  dark_time. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
CS_ScaleDisplay_Debug. . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  5
CS_ScaleDisplay_LcdShowNoDigit . . . .  PUBLIC   CODE   PROC     0000H  -----
pdbyte . . . . . . . . . . . . . . . .  TYPEDEF  -----  PTR      -----  1
CS_ScaleDisplay_LcdBackup. . . . . . .  PUBLIC   CODE   PROC     0000H  -----
UART_HalfDuplex. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_CS_ScaleDisplay_HexToBcd. . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  HexData. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
CS_Weight_T. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  10
  origin . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  kg . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  lb . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  st . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
  jin. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
R_Display_Err. . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
_CS_SoftTimer. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
UART_Parity. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
dbyte. . . . . . . . . . . . . . . . .  TYPEDEF  DATA   U_CHAR   -----  1
CS_ScaleDisplay_LcdRestore . . . . . .  PUBLIC   CODE   PROC     0000H  -----
CS_ComState. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  4
  now. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  pre. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  sucess . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  fail . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
_CS_CommTo1186_SendCmd . . . . . . . .  EXTERN   CODE   PROC     -----  -----
pxbyte . . . . . . . . . . . . . . . .  TYPEDEF  -----  PTR      -----  2
ibyte. . . . . . . . . . . . . . . . .  TYPEDEF  IDATA  U_CHAR   -----  1
BT_EVENTFIFO . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  25
  len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  DATA . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  24
YC_UtilTimer . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  61
  timer_flages . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  callback . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  24
  timer_end. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0019H  32
  last_timer . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0039H  4
s32_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
YC_UARTPARAM . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  15
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 24  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  uartCtrl . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  pRxBuff. . . . . . . . . . . . . . .  MEMBER   -----  PTR      0001H  3
  pTxBuff. . . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
  rxBuffLen. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  txBuffLen. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  baud . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   000BH  4
bool . . . . . . . . . . . . . . . . .  TYPEDEF  DATA   BIT      -----  1
u32_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
xbyte. . . . . . . . . . . . . . . . .  TYPEDEF  XDATA  U_CHAR   -----  1
u16_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
dint . . . . . . . . . . . . . . . . .  TYPEDEF  DATA   U_INT    -----  2
R_Selet_Unit . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
R_Debug_temp . . . . . . . . . . . . .  EXTERN   XDATA  U_INT    -----  2
byte . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
DeviceInfo_t . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  10
  registerFlag . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  bindFlag . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  loginFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  userNum. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  deviceID . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0004H  6
_CS_ScaleDisplay_FreshBuf. . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  option . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  showdata . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
  data_buf . . . . . . . . . . . . . .  STATIC   XDATA  ARRAY    0000H  5
YC_UartCTRLBit_e . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
UART_DataLen . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CS_ScaleDisplay. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  weight_temp. . . . . . . . . . . . .  * REG *  DATA   U_LONG   0004H  4
R_UnitWeight . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  10
uint . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
BT_CMDFIFO_t . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  25
  len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  DATA . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  24
UART_BaudSet . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
bleConnStatus. . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
CS_Lcd_Send_Data . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    000BH  6
CS_Lcd_Table . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0011H  23
_CS_Scale_JudgeOverLoad. . . . . . . .  EXTERN   CODE   PROC     -----  -----
CS_ScaleDisplay_LcdBuf_rShift4 . . . .  PUBLIC   CODE   PROC     0000H  -----
YC_LedBlink_t. . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  6
  active_state . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  gpio_num . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  light_time . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  dark_time. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
p_TimerCallback. . . . . . . . . . . .  TYPEDEF  -----  PTR      -----  3
_CS_ScaleDisplay_LookUpTable . . . . .  PUBLIC   CODE   PROC     0000H  -----
  NumData. . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  data_ptr . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
UART_Enable. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
HistoryList_t. . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  63
  head . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  tail . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  size . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  measureData. . . . . . . . . . . . .  MEMBER   -----  ARRAY    0003H  60
UART_EnableFlowControl . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
BT_CMDFIFO . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  25
C51 COMPILER V9.01   CS_SCALEDISPLAY                                                       03/23/2017 20:13:10 PAGE 25  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  DATA . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  24
CS_ScaleDisplay_LcdShowAll . . . . . .  PUBLIC   CODE   PROC     0000H  -----
YC_UartCTRLBit . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
CS_ScaleDisplay_LcdShowNull. . . . . .  PUBLIC   CODE   PROC     0000H  -----
UserMeasureData. . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  6
  weight . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  UTCTime. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0002H  4
BT_EVENTFIFO_t . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  25
  len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  DATA . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  24
YC_UtilTimer_t . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  61
  timer_flages . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  callback . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0001H  24
  timer_end. . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0019H  32
  last_timer . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0039H  4
_CS_Weight_T . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  10
  origin . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  kg . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  lb . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  st . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
  jin. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
_CS_ComState . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  4
  now. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  pre. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  sucess . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  fail . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
_CS_Scale_ZeroProc . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CS_ScaleDisplay_SteadyFlash. . . . . .  PUBLIC   CODE   PROC     0000H  -----
  R_Weight_FlashTime . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1294    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     40      12
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
